<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>StudyZone - AI Chat</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="navbar">
  <div class="logo">ðŸ“š StudyZone</div>
  <div class="menu">
    <a href="index.html">Home</a>
    <a href="ai.html">AI Chat</a>
    <a href="utilities.html">Utilities</a>
  </div>
</div>

<div class="main">
  <h1>StudyZone AI Chat</h1>
  <div class="chatbox">
    <div id="chatlog"></div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Type your question..." />
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>
</div>

<script>
const OPENAI_API_KEY = "YOUR_API_KEY_HERE";  // <-- Put your key here!

async function sendMessage() {
  const input = document.getElementById("userInput");
  const message = input.value.trim();
  if (!message) return;

  addToChat("You", message);
  input.value = "";

  const response = await fetch("https://api.openai.com/v1/chat/completions", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": `Bearer ${OPENAI_API_KEY}`
    },
    body: JSON.stringify({
      model: "gpt-3.5-turbo",
      messages: [{ role: "user", content: message }],
      max_tokens: 500,
      temperature: 0.7
    })
  });

  const data = await response.json();

  if (data.error) {
    addToChat("Error", data.error.message);
    return;
  }

  const reply = data.choices[0].message.content.trim();
  addToChat("AI", reply);
}

function addToChat(sender, text) {
  const chatlog = document.getElementById("chatlog");
  const entry = document.createElement("div");
  entry.innerHTML = `<strong>${sender}:</strong> ${text}`;
  chatlog.appendChild(entry);
  chatlog.scrollTop = chatlog.scrollHeight;
}
</script>

<style>
.chatbox {
  margin: 40px auto;
  width: 90%;
  max-width: 700px;
  background: #292944;
  padding: 20px;
  border-radius: 10px;
  text-align: left;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
}

#chatlog {
  max-height: 400px;
  overflow-y: auto;
  margin-bottom: 20px;
}

.input-area {
  display: flex;
}

.input-area input {
  flex: 1;
  padding: 12px;
  border-radius: 8px 0 0 8px;
  border: none;
  font-size: 1em;
}

.input-area button {
  padding: 12px 20px;
  border: none;
  background: #f39c12;
  color: white;
  border-radius: 0 8px 8px 0;
  font-weight: bold;
  cursor: pointer;
}
</style>

</body>
</html>
